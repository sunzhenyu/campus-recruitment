(function (a) { a.schoolLevel = function (d, e) { var g = { title: "请选择高校级别", content: "", onSchoolLevel: function () { } }; var c = this; c.settings = {}; var b = a(d), f = [], h = []; c.init = function (i) { this.settings = a.extend({}, g, i); c.tempHid = this.settings.inputHidden, $mask = a('<div id="layer-mask"></div>'), $content = a('<div id="layer-content">                                <div class="layerTitle">' + this.settings.title + '<i></i></div>                                <div class="layerContent">                                    <ul>                                        <li data-id="0" class="noRestrict">不限<i></i></li>                                        <li data-id="1" class="schoollist">985院校<i></i></li>                                        <li data-id="2" class="schoollist">211院校<i></i></li>                                        <li data-id="3" class="schoollist">普通一本院校<i></i></li>                                    </ul>                                    <div class="btnCancel">取消</div>                                    <div class="btnSubmit">确定</div>                                </div>                            </div>'); a("body").append($mask).show(); a("body").append($content).show(); this.selected(); this.bindEvent() }; c.selected = function () { var i = a(c.tempHid).val().split(","), j = a(".layerContent").find("li"); if (i != "") { a.each(i, function (l, k) { a.each(j, function (o, p) { if (k == a(p).attr("data-id")) { a(p).addClass("active") } }) }) } }; c.bindEvent = function () { var i = a("#layer-content"); i.on("click", ".btnCancel", function () { i.off(); i.remove(); a("#layer-mask").remove() }); i.on("click", ".layerTitle i", function () { i.off(); i.remove(); a("#layer-mask").remove() }); i.on("click", "li.schoollist", function () { var j = a("li.noRestrict"); if (j.hasClass("active")) { j.removeClass("active"); a(this).addClass("active") } else { if (a(this).hasClass("active")) { a(this).removeClass("active") } else { a(this).addClass("active") } } }); i.on("click", ".btnSubmit", function () { var j = a(".layerContent").find("li.active"); a.each(j, function (l, k) { f.push(a(k).attr("data-id")); h.push(a(k).text()) }); a(c.tempHid).val(f.join(",")); if (h.length) { a(d).find("span").html(h.join("+")) } else { b.find("span").html("高校级别") } i.remove(); a("#layer-mask").remove() }); i.on("click", "li.noRestrict", function () { if (a(this).hasClass("active")) { a(this).removeClass("active") } else { a(this).siblings(".active").removeClass("active"); a(this).addClass("active") } }) }; c.init(e) }; a.schoolArea = function (d, e) { var g = { title: "请选择高校所在地区", content: "", onschoolArea: function () { } }; var c = this; c.settings = {}; var b = a(d), f = [], h = []; c.init = function (i) { this.settings = a.extend({}, g, i); c.tempHid = this.settings.inputHidden, $mask = a('<div id="layer-mask"></div>'), $content = a('<div id="schoolArea-content">                                <div class="layerTitle">' + this.settings.title + '<i></i></div>                                <div class="schoolAreaContent">                                    <div class="sacLeft">                                        <ul>                                            <li>华北</li>                                            <li>华东</li>                                            <li>华南</li>                                            <li>东北</li>                                            <li>华中</li>                                            <li>西南</li>                                            <li>西北</li>                                            <li>其他</li>                                        </ul>                                    </div>                                    <div class="sacRight">                                        <ul>                                            <li class="areaListFirst" data-id="0">全部地区<i></i></li>                                            <li class="outLi">                                                <ul><li class="areaList" data-id="1001">北京<i></i></li><li class="areaList" data-id="1002">天津<i></i></li><li class="areaList" data-id="2001">河北<i></i></li><li class="areaList" data-id="2002">山西<i></i></li><li class="areaList" data-id="2003">内蒙古<i></i></li></ul>                                            </li>                                            <li class="outLi">                                                <ul><li class="areaList" data-id="1003">上海<i></i></li><li class="areaList" data-id="2007">江苏<i></i></li><li class="areaList" data-id="2008">浙江<i></i></li><li class="areaList" data-id="2012">山东<i></i></li><li class="areaList" data-id="2010">福建<i></i></li><li class="areaList" data-id="2009">安徽<i></i></li><li class="areaList" data-id="2011">江西<i></i></li></ul>                                            </li>                                           <li class="outLi">                                                <ul><li class="areaList" data-id="2016">广东<i></i></li><li class="areaList" data-id="2017">广西<i></i></li><li class="areaList" data-id="2018">海南<i></i></li></ul>                                            </li>                                            <li class="outLi">                                                <ul><li class="areaList" data-id="2004">辽宁<i></i></li><li class="areaList" data-id="2005">吉林<i></i></li><li class="areaList" data-id="2006">黑龙江<i></i></li></ul>                                            </li>                                            <li class="outLi">                                                <ul><li class="areaList" data-id="2013">河南<i></i></li><li class="areaList" data-id="2014">湖北<i></i></li><li class="areaList" data-id="2015">湖南<i></i></li></ul>                                            </li>                                            <li class="outLi">                                                <ul><li class="areaList" data-id="1004">重庆<i></i></li><li class="areaList" data-id="2019">四川<i></i></li><li class="areaList" data-id="2020">贵州<i></i></li><li class="areaList" data-id="2021">云南<i></i></li><li class="areaList" data-id="2022">西藏<i></i></li></ul>                                            </li>                                            <li class="outLi">                                                <ul><li class="areaList" data-id="2023">陕西<i></i></li><li class="areaList" data-id="2024">甘肃<i></i></li><li class="areaList" data-id="2025">青海<i></i></li><li class="areaList" data-id="2026">宁夏<i></i></li><li class="areaList" data-id="2027">新疆<i></i></li></ul>                                            </li>                                            <li class="outLi">                                                <ul><li class="areaList" data-id="2028">香港<i></i></li><li class="areaList" data-id="2029">澳门<i></i></li><li class="areaList" data-id="2030">台湾<i></i></li><li class="areaList" data-id="2099">海外<i></i></li></ul>                                            </li>                                        </ul>                                    </div>                                    <div class="btnCancel">取消</div>                                    <div class="btnSubmit">确定</div>                                </div>                            </div>'); a("body").append($mask).show(); a("body").append($content).show(); this.selected(); this.bindEvent() }; c.selected = function () { var i = a(c.tempHid).val().split(","), j = a(".schoolAreaContent").find(".areaList"); if (i != "") { if (i[0] == a(".areaListFirst").attr("data-id")) { a(".areaListFirst").addClass("active") } else { a.each(i, function (l, k) { a.each(j, function (o, p) { if (k == a(p).attr("data-id")) { a(p).addClass("active") } }) }) } } }; c.bindEvent = function () { var i = a("#schoolArea-content"); i.on("click", ".btnCancel", function () { i.off(); i.remove(); a("#layer-mask").remove() }).on("click", ".layerTitle i", function () { i.off(); i.remove(); a("#layer-mask").remove() }).on("click", ".areaList", function () { var j = i.find("li.active"); if (a(".areaListFirst").hasClass("active")) { a(this).addClass("active"); a(".areaListFirst").removeClass("active") } else { if (a(this).hasClass("active")) { a(this).removeClass("active") } else { if (j.length == 5) { alert("最多选择5个地区！") } else { a(this).addClass("active") } } } }).on("click", ".areaListFirst", function () { var j = i.find("li.active"); if (a(this).hasClass("active")) { a(this).removeClass("active") } else { a.each(j, function (l, k) { a(k).removeClass("active") }); a(this).addClass("active") } }).on("click", ".btnSubmit", function () { var j = i.find("li.active"); a.each(j, function (l, k) { f.push(a(k).attr("data-id")); h.push(a(k).text()) }); a(c.tempHid).val(f.join(",")); if (h.length) { a(d).find("span").html(h.join("+")) } else { b.find("span").html("高校所在地区") } i.remove(); a("#layer-mask").remove() }) }; c.init(e) }; a.fn.schoolLevel = function (b) { return this.each(function () { new a.schoolLevel(this, b) }) }; a.fn.schoolArea = function (b) { return this.each(function () { new a.schoolArea(this, b) }) } })(jQuery);