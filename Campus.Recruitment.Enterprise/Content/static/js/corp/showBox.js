var Showbo = {}; Showbo.IsIE = !(!document.all || -1 !== navigator.userAgent.indexOf("Opera")); Showbo.IEVersion = function () { if (!Showbo.IsIE) return -1; try { return parseFloat(/msie ([\d\.]+)/i.exec(navigator.userAgent)[1]) } catch (a) { return -1 } }(); Showbo.$ = function (a, b) { var c; if ("string" == typeof a) c = document.getElementById(a); else if ("object" == typeof a) c = a; else return null; return b ? Showbo.IsIE ? frames[a] : c.contentWindow : c };
Showbo.hasClassName = function (a, b) { if (a) return a = a.className, 0 == a.length ? !1 : a == b || a.match(new RegExp("(^|\\s)" + b + "(\\s|$)")) ? !0 : !1 }; Showbo.addClassName = function (a, b) { if (a) { var c = a.className; 0 == c.length ? a.className = c : c == b || c.match(new RegExp("(^|\\s)" + b + "(\\s|$)")) || (a.className = c + " " + b) } }; Showbo.removeClassName = function (a, b) { if (a) { var c = a.className; 0 != c.length && (c == b ? a.className = "" : c.match(new RegExp("(^|\\s)" + b + "(\\s|$)")) && (a.className = c.replace(new RegExp("(^|\\s)" + b + "(\\s|$)"), ""))) } };
Showbo.isStrict = "CSS1Compat" == document.compatMode; Showbo.BodyScale = { x: 0, y: 0, tx: 0, ty: 0 }; Showbo.getClientHeight = function () { return Showbo.isStrict ? document.documentElement.clientHeight : document.body.clientHeight }; Showbo.getScrollHeight = function () { return Math.max(Showbo.isStrict ? document.documentElement.scrollHeight : document.body.scrollHeight, this.getClientHeight()) }; Showbo.getHeight = function (a) { return a ? this.getScrollHeight() : this.getClientHeight() };
Showbo.getClientWidth = function () { return Showbo.isStrict ? document.documentElement.clientWidth : document.body.clientWidth }; Showbo.getScrollWidth = function () { return Math.max(Showbo.isStrict ? document.documentElement.scrollWidth : document.body.scrollWidth, this.getClientWidth()) }; Showbo.getWidth = function (a) { return a ? this.getScrollWidth() : this.getClientWidth() };
Showbo.initBodyScale = function () { Showbo.BodyScale.x = Showbo.getWidth(!1); Showbo.BodyScale.y = Showbo.getHeight(!1); Showbo.BodyScale.tx = Showbo.getWidth(!0); Showbo.BodyScale.ty = Showbo.getHeight(!0) };
Showbo.Msg = {
    INFO: "info", ERROR: "error", WARNING: "warning", IsInit: !1, timer: null, dvTitle: null, dvCT: null, dvBottom: null, dvBtns: null, lightBox: null, dvMsgBox: null, defaultWidth: 350, moveProcessbar: function () { var a = Showbo.$("dvProcessbar"), b = a.style.width; "" == b ? b = 20 : (b = parseInt(b) + 20, 100 < b && (b = 0)); a.style.width = b + "%" }, InitMsg: function (a) {
        this.dvMsgBox = document.createElement("div"); this.dvMsgBox.id = "dvMsgBox"; this.dvMsgBox.innerHTML += '<div class="top"><div class="title" id="dvMsgTitle"></div><a href="javascript:;" class="closeBtn" id="dvCloseBtn"></a></div><div class="body"><div class="ct" id="dvMsgCT"></div></div><div class="bottom" id="dvMsgBottom"><div class="btn" id="dvMsgBtns"></div></div>';
        document.body.appendChild(this.dvMsgBox); this.lightBox = document.createElement("div"); this.lightBox.id = "ShowBolightBox"; document.body.appendChild(this.lightBox); Showbo.IsIE && 7 > Showbo.IEVersion && (this.lightBox.innerHTML += '<iframe src="javascript:false" mce_src="javascript:false" style="position:absolute; visibility:inherit; top:0px;left:0px;width:100%; height:100%; z-index:-1;filter=\'progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)\';"></iframe>', this.dvMsgBox.innerHTML += '<iframe src="javascript:false" mce_src="javascript:false" style="position:absolute; visibility:inherit; top:0px;left:0px;width:100%; height:100%; z-index:-1;filter=\'progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)\';"></iframe>');
        this.dvBottom = Showbo.$("dvMsgBottom"); this.dvBtns = Showbo.$("dvMsgBtns"); this.dvCloseBtn = Showbo.$("dvCloseBtn").onclick = function () { Showbo.Msg.hide() }; this.dvCT = Showbo.$("dvMsgCT"); this.dvTitle = Showbo.$("dvMsgTitle"); this.IsInit = !0
    }, checkDOMLast: function () { document.body.lastChild != this.lightBox && (document.body.appendChild(this.dvMsgBox), document.body.appendChild(this.lightBox)) }, createBtn: function (a, b, c) {
        var d = document.createElement("input"); d.type = "button"; d.className = "ui-btn"; d.value = b; "yes" == a ? Showbo.addClassName(d,
        "ui-btn-ok-s") : "no" == a && Showbo.addClassName(d, "ui-btn-cancel-s"); d.onmouseover = function () { Showbo.addClassName(this, "btnfocus") }; d.onmouseout = function () { Showbo.removeClassName(this, "btnfocus") }; d.onclick = function () { Showbo.Msg.hide(); c && c(a) }; return d
    }, alert: function (a) { this.show({ buttons: { yes: "\u786e\u8ba4" }, msg: a, title: "\u6d88\u606f" }) }, confirm: function (a, b, c) { this.show({ buttons: void 0 !== c ? c : { yes: "\u786e\u8ba4", no: "\u53d6\u6d88" }, msg: a, title: "\u63d0\u793a", icon: "warning", fn: b }) }, prompt: function (a,
    b, c, d) { a || (a = "\u8bf7\u8f93\u5165\uff1a"); b || (b = ""); c || (c = "msg_txtInput"); this.show({ title: "\u8f93\u5165\u63d0\u793a", msg: a + '<input type="text" id="' + c + '" style="width:200px" value="' + b + '"/>', buttons: { yes: "\u786e\u8ba4", no: "\u53d6\u6d88" }, fn: d }) }, tips: function (a, b) { this.show({ title: "", msg: a, icon: "success", buttons: {}, fn: b }) }, wait: function (a, b) { a || (a = "\u6b63\u5728\u5904\u7406.."); this.show({ title: b, msg: a, wait: !0 }) }, show: function (a) {
        if (!a) throw "\u6ca1\u6709\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\uff01";
        Showbo.IsIE ? window.attachEvent("onresize", this.onResize) : window.addEventListener("resize", this.onResize, !1); this.IsInit ? this.checkDOMLast() : this.InitMsg(); a.width && (this.defaultWidth = a.width); this.dvMsgBox.style.width = this.defaultWidth + "px"; this.timer && (clearInterval(this.timer), this.timer = null); this.dvTitle.innerHTML = ""; a.title && (this.dvTitle.innerHTML = a.title); this.dvCT.innerHTML = ""; a.wait ? (a.msg && (this.dvCT.innerHTML = a.msg), this.dvCT.innerHTML += '<div class="pro"><div class="bg" id="dvProcessbar"></div></div>',
        this.dvBtns.innerHTML = "", this.dvBottom.style.height = "10px", this.timer = setInterval(function () { Showbo.Msg.moveProcessbar() }, 1E3)) : (a.icon && (this.dvCT.innerHTML = '<div class="icon ' + a.icon + '"></div>'), a.msg && (this.dvCT.innerHTML += a.msg + '<div class="clear"></div>'), this.dvBottom.style.height = "65px", this.dvBtns.innerHTML = '<div class="height"></div>', a.buttons.yes && (this.dvBtns.appendChild(this.createBtn("yes", a.buttons.yes, a.fn)), a.buttons.no && this.dvBtns.appendChild(document.createTextNode("\u3000"))),
        a.buttons.no && this.dvBtns.appendChild(this.createBtn("no", a.buttons.no, a.fn))); Showbo.initBodyScale(); this.dvMsgBox.style.display = "block"; this.lightBox.style.display = "block"; this.onResize(!1)
    }, hide: function () { this.dvMsgBox.style.display = "none"; this.lightBox.style.display = "none"; this.timer && (clearInterval(this.timer), this.timer = null); Showbo.IsIE ? window.detachEvent("onresize", this.onResize) : window.removeEventListener("resize", this.onResize, !1) }, onResize: function (a) {
        a && Showbo.initBodyScale(); Showbo.Msg.lightBox.style.width =
        Showbo.BodyScale.tx + "px"; Showbo.Msg.lightBox.style.height = Showbo.BodyScale.ty + "px"; Showbo.Msg.dvMsgBox.style.top = Math.floor((Showbo.BodyScale.y - Showbo.Msg.dvMsgBox.offsetHeight) / 2) + "px"; Showbo.Msg.dvMsgBox.style.left = Math.floor((Showbo.BodyScale.x - Showbo.Msg.dvMsgBox.offsetWidth) / 2) + "px"
    }
};